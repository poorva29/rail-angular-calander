@model IEnumerable<MiraiConsultMVC.Models.QuestionModel>
@{
    Layout = "~/Views/Shared/_PatientMasterLayout.cshtml";
}
<div class="row-fluid">
    <div class=" custom-central-div ">
        <div class="span12 custom-green-container custom-occupy">
            <label class="span1 hidden-phone" style="padding-top:5px; text-align:right">Filter:</label>
            <div class="pull-right span11">
                <label class="radio inline">
                    @Html.RadioButton("Questions", "All Questions") All Questions

                    @*<asp:RadioButton ID="rdbFilterAllans" GroupName="filter" Text="All Questions" runat="server" Checked="true" AutoPostBack="true" />*@
                </label>
                <label class="radio inline">
                    @Html.RadioButton("Questions", "Unanswered Questions") Unanswered Questions
                    @*<asp:RadioButton ID="rdbFilterUnans" GroupName="filter" Text="Unanswered Questions" runat="server" AutoPostBack="true" />*@
                </label>
            </div>
        </div>

        <div class="row-fluid">
            <div class=" span12 custom-bottom-border">
                <div clientidmode="Static" class="cust-Q-title" runat="server" id="questionTitle"></div>
            </div>
        </div>
        <br />

        <div class="margin_bottom">
            @{
    int count = 0;
    int cnt = 0;
    if (Model != null && Model.ToList().Count != 0)
    {
        foreach (MiraiConsultMVC.Models.QuestionModel question in Model)
        {
             if (!string.IsNullOrEmpty(Convert.ToString(question.AnsweredBy)))
             {
                    if (question.UserId == question.AnsweredBy &&false/*&& filterType*/)
                    { continue; }
             }
            <div class=@(cnt % 2 == 0 ? "row-fluid icon_padding_bottom custom-yellow-back" : "row-fluid icon_padding_bottom")>
                <div style="display:table-row">
                    <div class="custom-middle">
                        @if (!string.IsNullOrEmpty(Convert.ToString(question.AnsweredBy)))
                        {
                            count++;
                            if(question.UserId == question.AnsweredBy)
                            {
                                <img src="../Content/image/a-question.png" class="icon_img_check" />
                            }
                            else
                            {
                                <img src="../Content/image/ua-question.png" class="icon_img icon_img_check" />
                            }
                        }
                        else
                        {
                            <img src="../Content/image/answer.png" class="icon_img icon_img_check" />
                        }
                    </div>
                    <div class='custom-middle middle-size-padding question-padding' style='width:80%'>
                        <a class='question_text' href='doctorquestiondetails.aspx?questionid=<%= question.QuestionId%>'>
                            @question.QuestionText
                        </a>
                    </div>
                    <div class='custom-middle'>
                        <p class='ans_text float_right'>@question.CreateDate.ToString("dd-MMM-yyyy")</p>
                    </div>
                </div>
                @if (!string.IsNullOrEmpty(Convert.ToString(question.AnsweredBy)))
                {
                    if (question.UserId == question.AnsweredBy)
                    {
                        <div style="display:table-row;">
                            <div style="display:table-cell"></div>
                            @if (question.answers.First().AnswerText.Length > 80)
                            {
                                <div class='ans_text question-padding'  style="display:table-cell">@question.answers.First().AnswerText.Substring(0, 80)</div>
                            }
                            else
                            {
                                <div class='ans_text question-padding'  style="display:table-cell">@question.answers.First().AnswerText</div>
                            }
                            <div style="display:table-cell"></div>
                        </div>
                    }
                }
            </div>
        }
        cnt++;
    }
    if (count <= 0)
    {
        <div class="row-fluid icon_padding_bottom custom-yellow-back">
             <span>No records found</span>       
        </div>
    }
}
        </div>
    </div>
</div>
<script type="text/javascript">
    $(function () {
        $(".navigation li.active").removeClass("active");
        $('#liDocQuestions').addClass("active");
    });
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date(); a = s.createElement(o),
        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-48132984-2', 'askmirai.com');
    ga('send', 'pageview');

</script>

