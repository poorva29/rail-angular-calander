@model MiraiConsultMVC.Models.User.ChangePassword

@{
    if (Session["UserId"] == null)
    {
        Layout = "~/Views/Shared/_AskmiraiMasterLayout.cshtml";
    }
    else
    {
        Layout = "~/Views/Shared/_PatientMasterLayout.cshtml";
    }
}
@Scripts.Render("~/bundles/jqueryval")
<div class="row-fluid">
    <div class="span7 custom-center-small-div ">
        <div class='row-fluid'>
            <div class="span12 ">
                <div class="finddoc-title">
                    Change Password
                </div>
            </div>
        </div>
        <div id="controlcontainer" class="custom-green-container gray-border" visible="true" runat="server">
            <div class="row-fluid">
                <div class="span12 btn-padding-left controls-right-padding">
                    @if (!String.IsNullOrEmpty(ViewBag.errorMsg))
                    {
                        <div id="message" class="alert alert-error">
                            <label id="lblError" class="error_message_color msg_font">@ViewBag.errorMsg</label>
                        </div>
                    }
                    @if (!String.IsNullOrEmpty(ViewBag.success))
                    {
                        <div id="message" class="alert alert-success"   >
                            <label id="lblError" class="success_message_color msg_font">@ViewBag.success</label>
                        </div>
                    }
                </div>
            </div>
            <br />
            @using (Html.BeginForm())
            {
                         @Html.AntiForgeryToken()
                         @Html.ValidationSummary(true)
                { 
            <div class="row-fluid">
                <div class="span12">
                    <div class="span4 pull-left btn-padding-left">
                        <label for="password" class="required">Current Password:</label>
                    </div>
                    <div class="span8 pull-right controls-right-padding btn-padding-left">
                        @Html.TextBoxFor(m => m.currentPassword, new { @class = "input-block-level gray-border contact_margin input-block-display", type = "password", maxlength = "30", placeholder = "Current Password" })
                        @Html.ValidationMessageFor(m => m.currentPassword, string.Empty, new { @class = "validation-summary-errors" })
                        <br/>
                    </div>
                </div>
            </div>
            <br />
            <div class="row-fluid">
                <div class="span12">
                    <div class="span4 pull-left btn-padding-left">
                        <label for="password" class="required">New Password:</label>
                    </div>
                    <div class="span8 pull-right controls-right-padding btn-padding-left">
                        @Html.TextBoxFor(m => m.newPassword, new { @class = "input-block-level gray-border contact_margin input-block-display", type = "password", maxlength = "30", placeholder = "New Password" })
                        @Html.ValidationMessageFor(m => m.newPassword, string.Empty, new { @class = "validation-summary-errors" })
                        <br />
                    </div>
                </div>
            </div>
            <br />
            <div class="row-fluid">
                <div class="span12">
                    <div class="span4 pull-left btn-padding-left">
                        <label for="password" class="required">Confirm New Password:</label>
                    </div>
                    <div class="span8 pull-right controls-right-padding btn-padding-left ">
                        @Html.TextBoxFor(m => m.confirmpassword, new { @class = "input-block-level gray-border contact_margin input-block-display", type = "password", maxlength = "30", placeholder = "Confirm New Password" })
                        @Html.ValidationMessageFor(m => m.confirmpassword, string.Empty, new { @class = "validation-summary-errors" })
                        <br />
                    </div>
                </div>
            </div>
            <br />
            <div class="row-fluid">
                <div class="span12">
                    <div class="span8 pull-right btn-padding-left">
                        <input class="btn thanx gray-border" id="btnSubmit" type="submit" value="Submit" />
                    </div>
                </div>
            </div>
                }
            }
            <br />
        </div>
    </div>
</div>
<!-- JavaScript -->
<script type="text/javascript">
    $(".input-block-level").keyup(function () {
        $("form").valid();
    });
    function MinLength(sender, args) {
        args.IsValid = (args.Value.length >= 6);
    }
    $(document).ready(function () {
        $(".navigation li.active").removeClass("active");
    });
</script>