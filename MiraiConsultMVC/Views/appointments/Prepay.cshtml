@model MiraiConsultMVC.EFModels.appointment

@{
    Layout = "~/Views/Shared/_AskmiraiMasterLayout.cshtml";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Prepay for appointment</title>
</head>
<body>
    <p/>
    @if (Model != null) {
        bool paid = Model.prepayamount > 0 && Model.ispaid.GetValueOrDefault();
        if (paid)
        {
            <div class="row-fluid">
                <div class="span12">
                    <div class=" main-outter-padding toppaddingHome finddoc-title">
                        This appointment has been paid for and confirmed.
                    </div>
                </div>
            </div>
        }
        else
        {
            <div class="row-fluid">
                <div class="span12">
                    <div class=" main-outter-padding toppaddingHome finddoc-title">
                        Appointment For @Model.patientname On @Model.starttime.ToString("MMMM dd, yyyy")
                    </div>
                    <div class="span1">&nbsp;</div>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span11">
                    <a href="/payment/a/@Model.appointmentid" class="book_appt_button pad10">Pay now</a>
                </div>
            </div>
        }
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span11 left doc-clinic-container">
                    <div class="span10 doc-div-min-height">
                        <div class="left loc-label doc-div-min-height span2"><h5>Doctor:</h5></div>
                        <div class="span6 doc-div-min-height left doc-detail-word-break">                
                            <h5>Dr. @ViewBag.doc.firstname @ViewBag.doc.lastname</h5>
                        </div>
                    </div>
                    <div class="span10 doc-div-min-height margin-null">
                        <div class="left loc-label doc-div-min-height span2">Date:</div>
                        <div class="span6 doc-div-min-height left doc-detail-word-break">@Model.starttime.ToString("MMMM dd, yyyy")</div>
                    </div>
                    <div class="span10 doc-div-min-height margin-null">
                        <div class="left loc-label doc-div-min-height span2">Time:</div>
                        <div class="span6 doc-div-min-height left doc-detail-word-break">@Model.starttime.ToString("HH:mm tt") to @Model.endtime.ToString("hh:mm tt")</div>
                    </div>
                    <div class="span10 doc-div-min-height margin-null">
                        <div class="left loc-label doc-div-min-height span2">Subject:</div>
                        <div class="span6 doc-div-min-height left doc-detail-word-break">@Model.subject</div>
                    </div>
                    <div class="span10 doc-div-min-height margin-null">
                        <div class="left loc-label doc-div-min-height span2">Clinic Name:</div>
                        <div class="span6 doc-div-min-height left doc-detail-word-break">@Model.doclocation.clinicname</div>
                    </div>
                    <div class="span10 doc-div-min-height margin-null">
                        <div class="left loc-label doc-div-min-height span2">Address:</div>
                        <div class="span6 doc-div-min-height left doc-detail-word-break">@Model.doclocation.address</div>
                    </div>
                    <div class="span10 doc-div-min-height margin-null">
                        <div class="left loc-label doc-div-min-height span2">Phone:</div>
                        <div class="span6 doc-div-min-height left doc-detail-word-break">@Model.doclocation.telephone</div>
                    </div>
                    <div class="span10 doc-div-min-height margin-null">
                        <div class="left loc-label doc-div-min-height span2">Fees:</div>
                        <div class="span6 doc-div-min-height left doc-detail-word-break">@Model.prepayamount</div>
                    </div>
                    <div class="span10 doc-div-min-height margin-null">
                        <div class="left loc-label doc-div-min-height span2">Pay By:</div>
                        <div class="span6 doc-div-min-height left doc-detail-word-break">@Model.prepay_by.GetValueOrDefault().ToString("MMMM dd, yyyy hh:mm tt")</div>
                    </div>
                </div>
            </div>
            if (!paid)
            {
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span11">
                        <a href="/payment/a/@Model.appointmentid" class="book_appt_button pad10">Pay now</a>
                    </div>
                </div>
            }
    }
    else
    {
        <h3>No such appointment found. Please call Mirai Health number for further help.</h3>
    }
</body>
</html>
